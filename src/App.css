:root{
  /* Titanium Grey palette */
  --titanium-100: #eef1f3;
  --titanium-200: #d6dadd;
  --titanium-300: #bfc6ca;
  --titanium-500: #8f969b;
  --titanium-700: #4f5558;
  --titanium-900: #212427;

  /* glass + effect tokens */
  --glass-bg: rgba(255,255,255,0.06);
  --glass-contrast: rgba(255,255,255,0.08);
  --glass-border: rgba(255,255,255,0.06);
  --specular: rgba(255,255,255,0.22);
  --shadow-1: 0 6px 20px rgba(16,20,24,0.18);
  --shadow-2: 0 12px 40px rgba(12,16,20,0.24);

  --radius: 14px;
  --gap: 16px;
  --max-width: 1280px;
  --glass-blur: 10px;
  --accent: var(--titanium-300);
  --muted: var(--titanium-500);
  --text: var(--titanium-900);
}

/* page */
* { box-sizing: border-box; }
html,body,#root { height:100%; margin:0; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; background: linear-gradient(180deg, #f6f7f8 0%, #eef1f3 100%); color:var(--text); }

/* subtle page sheen */
body::before{
  content:"";
  position:fixed; inset:0; pointer-events:none;
  background: radial-gradient(800px 400px at 10% 10%, rgba(255,255,255,0.025), transparent 10%),
              radial-gradient(500px 200px at 90% 90%, rgba(255,255,255,0.02), transparent 15%);
  mix-blend-mode:overlay;
  z-index:0;
}

/* layout */
.app-grid{
  display:grid;
  grid-template-columns: 260px 1fr 360px 220px;
  gap:var(--gap);
  padding:22px;
  max-width:var(--max-width);
  margin:20px auto;
  align-items:start;
  position:relative;
  z-index:1;
}

/* base glass panel */
.glass-panel{
  position:relative;
  border-radius:var(--radius);
  padding:14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(250,250,251,0.45));
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-1);
  backdrop-filter: blur(var(--glass-blur)) saturate(110%);
  overflow: hidden;
  transition: transform .28s ease, box-shadow .28s ease;
}

/* moving specular sheen */
.glass-panel::after{
  content:"";
  position:absolute;
  left:-60%;
  top:-40%;
  width:220%;
  height:180%;
  background: linear-gradient(120deg,
    rgba(255,255,255,0.00) 0%,
    rgba(255,255,255,0.06) 30%,
    rgba(255,255,255,0.20) 52%,
    rgba(255,255,255,0.06) 68%,
    rgba(255,255,255,0.00) 100%);
  transform: translateX(-10%) rotate(-12deg);
  pointer-events:none;
  mix-blend-mode: screen;
  filter: blur(8px) saturate(120%);
  animation: liquid-sheen 6s linear infinite;
  opacity:0.9;
}

/* gentle hover lift */
.glass-panel:hover { transform: translateY(-6px); box-shadow: var(--shadow-2); }
@keyframes liquid-sheen {
  0% { transform: translateX(-30%) rotate(-12deg) scale(1); }
  50% { transform: translateX(10%) rotate(-10deg) scale(1.02); }
  100% { transform: translateX(120%) rotate(-8deg) scale(1); }
}

/* sidebar */
.sidebar { height: calc(100vh - 44px); overflow:auto; padding-bottom:16px; }
.logo { font-weight:700; font-size:20px; margin:0 0 10px 0; color:var(--titanium-700); }
.sidebar button {
  width:100%; display:block; margin-top:10px; padding:10px 12px; border-radius:12px;
  border:1px solid rgba(0,0,0,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(250,250,251,0.5));
  color:var(--titanium-700); font-weight:600; cursor:pointer;
  box-shadow: 0 4px 12px rgba(12,16,20,0.04);
}
.sidebar .status { margin-top:12px; color:var(--muted); font-size:13px; }

/* video area - liquid frames */
.video-grid { display:flex; gap:12px; margin-bottom:12px; }
.video-wrapper {
  flex:1; border-radius:14px; min-height:160px; overflow:hidden;
  position:relative;
  background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(240,242,244,0.5));
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 10px 30px rgba(16,20,24,0.07), inset 0 -6px 20px rgba(0,0,0,0.03);
  backdrop-filter: blur(8px) saturate(110%);
}
.video-wrapper video{ width:100%; height:100%; object-fit:cover; display:block; }
.video-label {
  position:absolute; left:12px; bottom:12px;
  background: linear-gradient(180deg, rgba(0,0,0,0.42), rgba(0,0,0,0.28));
  color: #fff; padding:6px 10px; border-radius:10px; font-size:12px;
  box-shadow: 0 6px 16px rgba(0,0,0,0.22);
}

/* chat */
.chat-section { display:flex; flex-direction:column; gap:10px; height: calc(100vh - 44px); overflow:hidden; }
.chat-box {
  padding:12px; border-radius:12px; overflow:auto; flex:1;
  background: linear-gradient(180deg, rgba(255,255,255,0.66), rgba(245,246,247,0.68));
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 8px 30px rgba(16,20,24,0.04);
}
.chat-box p { color:var(--muted); }

/* message card â€” Liquid glass pill */
.chat-message {
  position:relative;
  padding:12px;
  margin-bottom:12px;
  border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(248,249,250,0.9));
  border: 1px solid rgba(16,20,24,0.03);
  box-shadow: 0 6px 18px rgba(12,16,20,0.04);
  overflow:visible;
  transition: transform .18s ease, box-shadow .18s ease;
}
.chat-message:hover { transform: translateY(-3px); box-shadow: 0 12px 30px rgba(12,16,20,0.06); }

/* small frosted highlight strip on messages */
.chat-message::before{
  content:"";
  position:absolute; left:10px; top:8px; right:10px; height:2px;
  background: linear-gradient(90deg, rgba(255,255,255,0.0), rgba(255,255,255,0.35), rgba(255,255,255,0.0));
  border-radius:2px; filter: blur(2px);
}

/* deleted state */
.chat-message.deleted { opacity:0.66; background: linear-gradient(180deg, rgba(235,236,237,0.9), rgba(230,231,233,0.9)); font-style:italic; color:var(--muted); }

/* meta */
.chat-message strong { color:var(--titanium-700); }
.chat-message small { color:var(--muted); margin-left:8px; font-size:12px; }

/* actions */
.chat-actions { display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; align-items:center; }
.chat-actions button{
  border:1px solid rgba(0,0,0,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(245,246,247,0.6));
  padding:8px 10px; border-radius:10px; font-size:13px; color:var(--titanium-700); cursor:pointer;
  box-shadow: 0 4px 10px rgba(12,16,20,0.03);
}

/* input row */
.chat-input { display:flex; gap:10px; align-items:center; padding-top:8px; }
.chat-input input[type="text"]{
  flex:1; padding:12px 14px; border-radius:12px; border:1px solid rgba(0,0,0,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(250,250,251,0.92));
  outline:none; font-size:14px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.4);
}
.chat-input button{
  padding:10px 14px; border-radius:12px; border:none; background: linear-gradient(180deg,var(--titanium-300),var(--titanium-200)); color:var(--titanium-900); font-weight:700; cursor:pointer;
}

/* transfers */
progress { width:100%; height:10px; border-radius:8px; appearance:none; }
progress::-webkit-progress-bar { background: rgba(0,0,0,0.04); border-radius:8px; }
progress::-webkit-progress-value { background: linear-gradient(90deg,var(--titanium-300),var(--titanium-500)); border-radius:8px; }

/* sdp panel / qr */
.sdp-panel textarea{ width:100%; min-height:68px; border-radius:10px; padding:10px; border:1px solid rgba(0,0,0,0.04); background:linear-gradient(180deg, rgba(255,255,255,0.96), #fff); resize:vertical; }
.QrCode{ display:flex; justify-content:center; margin-top:12px; }

/* call-history */
.call-history ul{ padding-left:12px; margin:0; }
.call-history li{ margin-bottom:12px; color:var(--titanium-700); font-size:13px; }

/* responsive */
@media (max-width:1100px){
  .app-grid{ grid-template-columns:1fr; padding:12px; gap:12px; }
  .sdp-panel, .call-history { order:3; }
  .sidebar { order:1; }
  .content { order:2; }
}

/* accessibility: reduce motion */
@media (prefers-reduced-motion: reduce){
  .glass-panel::after, .glass-panel, .chat-message { animation: none; transition: none; transform:none; }
}
